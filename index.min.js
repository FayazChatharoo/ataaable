const lenis=new Lenis({duration:1.5,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",smooth:!0,smoothTouch:!0});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{lenis.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),requestAnimationFrame(raf),gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(CustomEase),CustomEase.create("custom","M0,0 C1.105,0 0.399,0.904 1,1 "),CustomEase.create("smooth","M0,0 C0.726,0 0,1 1,1 "),document.addEventListener("DOMContentLoaded",(async()=>{if(console.log("‚úÖ Confetti.js est disponible :",typeof confetti),"function"!=typeof confetti.create)return void console.error("‚ùå Confetti.js n'est pas charg√© correctement !");const e=document.querySelector(".preloader-confettis");e?(console.log("üé® Canvas trouv√© :",e),e.confetti||(e.confetti=confetti.create(e,{resize:!0})),console.log("‚úÖ canvas.confetti est bien attach√© :",typeof e.confetti)):console.error("‚ùå Canvas .preloader-confettis introuvable !")})),document.addEventListener("DOMContentLoaded",(()=>{console.log("‚úÖ Confetti.js est disponible :",typeof confetti);const e=document.querySelector(".preloader"),t=document.querySelector(".preloader-logo"),o=document.querySelector(".percentage-container"),r=["#F7E7CE","#FDE3D0","#FADADD","#E3ECF1","#FFF8E7"];function n(){if("true"===localStorage.getItem("preloaderPlayed"))return void console.log("‚è© Intro d√©j√† jou√©e, on saute l‚Äôanimation du hero.");let e=gsap.timeline();console.log("üìå V√©rification avant chargement de Lottie :",document.querySelectorAll("#hero-lottie").length);const t=function(){if("undefined"==typeof lottie)return console.error("‚ùå Lottie.js n'est pas charg√© !"),null;const e=document.getElementById("hero-lottie");if(!e)return console.error("‚ùå Lottie non trouv√© !"),null;if(e.dataset.lottieInitialized)return void console.warn("‚ö†Ô∏è Lottie est d√©j√† charg√©, on √©vite un double chargement.");e.dataset.lottieInitialized="true",e.setAttribute("data-autoplay","0");const t=lottie.loadAnimation({container:e,renderer:"svg",loop:!1,autoplay:!1,rendererSettings:{preserveAspectRatio:"xMidYMid meet",progressiveLoad:!0},path:e.getAttribute("data-src")});return t.goToAndStop(0,!0),setTimeout((()=>{let e=document.querySelectorAll(".hero-logo svg");console.log("üîÑ V√©rification tardive des SVG :",e.length),e.length>1&&(console.warn("‚ö†Ô∏è Plus d'un SVG d√©tect√©, suppression du surplus !"),e[1].remove())}),500),t}();console.log("üéØ Nombre d'√©l√©ments SVG dans .hero-logo :",document.querySelectorAll(".hero-lottie svg").length),e.fromTo(".hero-img",{height:0,y:"100%",scale:1},{height:"100%",y:"0%",scale:1,duration:1.6,ease:"quad.inOut"}),t&&e.add((()=>{t.play()}),"<");let o=new SplitType(".heading-xxl",{types:"chars"}).chars;return e.fromTo(o,{y:"200%"},{y:"0%",delay:1.6,duration:.2,stagger:.06,ease:"quad.out"},">"),e.fromTo(".menu-wrapper > *",{y:"100%",opacity:0},{y:"0%",opacity:1,duration:1,stagger:.2,ease:"power3.out"},">"),e}if("true"===localStorage.getItem("preloaderPlayed")){const e=document.querySelector(".preloader");e&&e.remove(),console.log("‚è© Pr√©loader d√©j√† vu, pas d'animation du hero.")}else(async function(){gsap.timeline().add(function(){let e=gsap.timeline();return e.fromTo(t,{opacity:0,scale:.8},{opacity:1,scale:1,duration:1,ease:"elastic.out(1, 0.5)"}),e}()).add(function(){let t=gsap.timeline({duration:1});return r.forEach((o=>{t.to(e,{backgroundColor:o,ease:"none"})})),t}(),"<").add(function(){const e=document.querySelectorAll(".preloader-text-item:not(.ap)"),t=(document.querySelectorAll(".preloader-text-item.ap"),["var(--color--primary)","var(--color--secondary-51)","var(--color--secondary-light)","var(--color--tertiary)"]);e.forEach((e=>new SplitType(e,{types:"chars"})));let o=gsap.timeline({defaults:{duration:.2,ease:"quad.inOut",stagger:.0304}});return e.forEach(((e,r)=>{o.fromTo(e.querySelectorAll(".char"),{y:"150%",color:t[r]},{y:"0%"},"-=0.4"),o.to(e.querySelectorAll(".char"),{duration:.4}),o.to(e.querySelectorAll(".char"),{y:"-150%"},">")})),o}(),"<").call((()=>{!async function(){const e=document.querySelector(".preloader-confettis");if(e)return console.log("üéØ Canvas utilis√© :",e),e.confetti=await confetti.create(e,{resize:!0}),new Promise((t=>{let o=0;for(let r=1;r<=3;r++)gsap.delayedCall(o,(()=>{console.log(`üíñ Explosion ${r}`),e.confetti({spread:360,ticks:250,gravity:-.2,decay:.99,startVelocity:10,shapes:["heart"],scalar:randomInRange(5,8),colors:["#FFC0CB","#FF69B4","#FF1493","#C71585"],particleCount:300,origin:{x:randomInRange(1),y:randomInRange(.3,.9)}}),3===r&&t()})),o+=.2;gsap.delayedCall(2,(()=>{t()}))}));console.error("‚ùå Canvas non trouv√© !")}()}),null,">").add(function(){let r=gsap.timeline({onComplete:()=>{e.remove()}});return r.fromTo(e,{y:"0%"},{y:"-100%",duration:1,ease:"power4.inOut"},0),r.fromTo([t,o],{y:"0%"},{y:"-200%",duration:1,ease:"power4.inOut",stagger:.2},">"),r}(),"+=1").add(n(),"<")})().then((()=>{localStorage.setItem("preloaderPlayed","true")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".menu-open-lottie");if(!e)return void console.error("‚ùå .menu-open-lottie introuvable !");let t=null;function o(){const t=e.getBoundingClientRect(),o={x:t.left/window.innerWidth+t.width/window.innerWidth/2,y:t.top/window.innerHeight+t.height/window.innerHeight/2};confetti({particleCount:2,angle:135,spread:225,startVelocity:5,gravity:-1,decay:.99,scalar:4,shapes:["heart"],colors:["#FFC0CB","#FF69B4","#FF1493","#C71585"],origin:o})}e.addEventListener("mouseenter",(()=>{t||(t=setInterval(o,300))})),e.addEventListener("mouseleave",(()=>{clearInterval(t),t=null})),e.style.position="relative",e.style.zIndex="96"}));export function animateBodyBackground(){const e=["#F7E7CE","#FDE3D0","#FADADD","#E3ECF1","#FFF8E7"],t=e[Math.floor(Math.random()*e.length)];gsap.to(".aside",{backgroundColor:t,duration:.5,ease:"slow(0.7,0.7,false)"})}export function animateBodyBackgroundBack(){gsap.to(".aside",{backgroundColor:"#FCFCFC",duration:.5,ease:"slow(0.7,0.7,false)"})}function lancerConfettis(e){const t={spread:360,ticks:200,gravity:0,decay:.92,startVelocity:30,shapes:["heart"],colors:["FFC0CB","FF69B4","FF1493","C71585"]};e.confetti({...t,particleCount:70,scalar:2}),e.confetti({...t,particleCount:40,scalar:3}),e.confetti({...t,particleCount:20,scalar:4})}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".menu-open-link").forEach((function(e){document.querySelectorAll(".menu-open-txt .word").forEach((e=>{e.insertAdjacentHTML("afterend","&thinsp;")}));const t=e.querySelector(".menu-open-txt.links"),o=e.querySelector(".menu-open-txt.ap");if(!t||!o)return;const r=new SplitType(t,{types:"words, chars"}),n=new SplitType(o,{types:"words, chars"}),a=r.chars,s=n.chars;let l=gsap.timeline({paused:!0});l.fromTo(a,{y:"0%"},{y:"-120%",stagger:.0304,ease:"quad.inOut",duration:.4},0),l.fromTo(s,{y:"110%"},{y:"0%",stagger:.0304,color:"var(--color--primary)",duration:.4,ease:"quad.inOut"},0),o.addEventListener("mouseenter",(()=>{l.play(),animateBodyBackground()})),o.addEventListener("mouseleave",(()=>{l.reverse(),animateBodyBackgroundBack()}))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".aside"),t=document.querySelector(".main"),o=document.querySelector(".menu-icon"),r=(document.querySelector(".menu-open"),document.querySelector(".menu-overlay")),n=document.querySelectorAll(".menu-open-navigation > *"),a=document.querySelectorAll(".menu-open-link .links"),s=document.querySelectorAll(".menu-open-link .menu-open-txt.ap"),l=document.querySelector(".menu-open-txt .ap .menu-contact-link");l&&l.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".footer-wrapper");t?(lenis.scrollTo(t,{offset:-100,duration:1.2,immediate:!1}),setTimeout((()=>{ScrollTrigger.refresh()}),0)):console.warn("‚ö†Ô∏è .footer-wrapper introuvable")}));let i=gsap.timeline({paused:!0});i.set(e,{display:"block"}).set(r,{display:"block",zIndex:97}).set(s,{y:"0%"}).fromTo(e,{yPercent:-100,autoAlpha:1},{yPercent:0,autoAlpha:1,duration:1,ease:"custom"}).fromTo(t,{yPercent:0},{yPercent:2.5,duration:1,ease:"custom"},"<").fromTo(r,{autoAlpha:0,backgroundColor:"rgba(rgb(26, 34, 41), 0)",filter:"blur(0px)"},{autoAlpha:1,backgroundColor:"rgba(rgb(26, 34, 41), 0.9)",filter:"blur(5px)",duration:1,ease:"ease.in"},"<").fromTo(n,{autoAlpha:0},{autoAlpha:1,stagger:.0618,duration:.4,ease:"back.Out"},">").fromTo(a,{y:"-120%"},{y:"0%",stagger:.0618,duration:.4,ease:"back.Out"},"<"),o.addEventListener("click",(function(){0===i.progress()||i.reversed()?i.play():i.reverse().then((()=>{e.style.display="none"}))})),r.addEventListener("click",(()=>{i.reverse().then((()=>{gsap.set(e,{display:"none"})}))})),s.forEach((o=>{o.addEventListener("click",(r=>{r.preventDefault();const n=o.getAttribute("href");i.reverse().then((()=>{gsap.set(e,{display:"none"}),gsap.to(t,{yPercent:0,duration:.5,ease:"smooth",onComplete:()=>{const e=document.querySelector(n);e?(lenis.scrollTo(e,{offset:-2.5,duration:.6}),setTimeout((()=>{lenis.scrollTo(e,{offset:-2.5,duration:.3}),ScrollTrigger.refresh(!0)}),700)):window.location.href=n}})}))}))}))})),document.addEventListener("DOMContentLoaded",(()=>{function e(e,t,o=!1){let r=document.querySelector(e);if(!r)return;let n=r.innerHTML.trim();r.innerHTML=`${n} ${n}`;let a=r.scrollWidth/2,s=o?1:-1,l=gsap.to(r,{x:s*a,duration:t,ease:"none",repeat:-1}),i=1;lenis.on("scroll",(()=>{(e=>{let t=Math.abs(e),o=gsap.utils.clamp(.6,5,t/3);Math.abs(o-i)>.05&&(i=o,l.timeScale(i))})(lenis.velocity)}))}gsap.registerPlugin(ScrollTrigger),e(".marquee-top",25),e(".marquee-bottom",25,!0)})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);const e=document.querySelector(".section:has(.about-wrapper)");if(!e)return void console.warn("‚ùå Aucune section contenant .about-wrapper trouv√©e.");const t=e.querySelector(".container"),o=t.querySelector(".a-taable-logo-text"),r=t.querySelector(".p");if(!o||!r)return void console.warn("‚ùå √âl√©ment manquant dans .about-wrapper");const n=new SplitType(r,{types:"lines"}).lines;gsap.set(o,{autoAlpha:0}),gsap.set(n,{autoAlpha:0,y:"5000%"});const a=gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",end:"bottom bottom",scrub:2,pinSpacing:!1,pinReparent:!0,markers:!1}});a.to(o,{autoAlpha:1,duration:.5,ease:"none"}),a.to(n,{autoAlpha:1,y:0,stagger:.005,ease:"power2.out"},"<"),setTimeout((()=>{ScrollTrigger.refresh()}),0)})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);const e=document.querySelectorAll(".about-visual-1, .about-visual-2");document.querySelector(".about-visual-1"),document.querySelector(".about-visual-2");e.length&&e.forEach((e=>{let t=e.closest(".about-visual-mask"),o=e.querySelector(".about-visual-img");gsap.timeline({scrollTrigger:{trigger:e,markers:!1,pinSpacing:!1,start:"top 80%",toggleActions:"play none none reverse"}}).fromTo(e,{autoAlpha:0},{autoAlpha:1,duration:.6,ease:"ease.in"}),gsap.fromTo(t,{yPercent:0},{yPercent:-20,ease:"custom",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:5}}),gsap.fromTo(o,{yPercent:0},{yPercent:-10,ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:1}})}))})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);const e=document.querySelector(".section-dish-titles:last-of-type"),t=document.querySelector(".pinme"),o=document.querySelector(".timeline");t&&o&&e?(ScrollTrigger.matchMedia({"(min-width: 992px)":function(){gsap.fromTo(o,{opacity:0},{opacity:1,duration:.618,ease:"custom",scrollTrigger:{id:"timeline-fade",trigger:t,start:"top center",end:"top top",toggleActions:"play none none reverse",scrub:!1,markers:!1}}),ScrollTrigger.create({trigger:t,start:"top top",endTrigger:e,end:"bottom bottom",pin:o,id:"timeline",anticipatePin:1,pinReparent:!0,pinSpacing:!0,markers:!1})},"(max-width: 991px)":function(){t.style.display="none",o.style.display="none"}}),setTimeout((()=>{ScrollTrigger.refresh()}),100)):console.warn("‚ö†Ô∏è √âl√©ment(s) manquant(s) pour le pin de la timeline")})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);const e=["#F7E7CE","#FDE3D0","#FADADD","#E3ECF1","#FFF8E7"],t=document.querySelector(".section-dish"),o=document.querySelectorAll(".button-timeline:not(.static)");gsap.set(t,{backgroundColor:"#FFFFFF"}),document.querySelectorAll(".section-dish-titles").forEach(((r,n)=>{const a=r.querySelector(".dish-title"),s=o[n];if(!a||!s)return;const l=new SplitType(a,{types:"chars",tagName:"span"});gsap.set(l.chars,{opacity:0,y:"100%"}),gsap.to(l.chars,{opacity:1,y:0,duration:.4,ease:"power2.out",stagger:.03,scrollTrigger:{trigger:r,start:"top center",end:"top top",scrub:!0,markers:!1,onUpdate:e=>{const t=e.progress.toFixed(2);o.forEach((e=>{e.classList.remove("is-active"),gsap.to(e.querySelector("p"),{fontWeight:300,duration:.2,ease:"none"})})),t>.5&&(s.classList.add("is-active"),gsap.to(s.querySelector("p"),{fontWeight:900,duration:.4,ease:"none"}))}}}),function(o,r){let n=0===o?"#FFFFFF":e[o-1],a=e[o%e.length];gsap.fromTo(t,{backgroundColor:n},{backgroundColor:a,duration:1.2,ease:"power1.out",scrollTrigger:{trigger:r,start:0===o?"top bottom":"top center",end:"bottom center",scrub:!0,markers:!1}})}(n,r)})),setTimeout((()=>{ScrollTrigger.refresh()}),100)})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".section-dish-titles").forEach((e=>{let t=e.querySelector(".dish-wrapper-left"),o=e.querySelector(".dish-wrapper-right");t&&o&&(gsap.set(t,{y:"100%"}),gsap.set(o,{y:"40%"}),gsap.to(t,{y:"-140%",ease:"none",scrollTrigger:{trigger:e,id:"left",markers:!1,pinSpacing:!0,start:"center bottom",end:"bottom top",scrub:1.2}}),gsap.to(o,{y:"-200%",ease:"none",scrollTrigger:{trigger:e,id:"right",pinSpacing:!0,markers:!1,start:"center bottom",end:"bottom top",scrub:2}}))}))})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);const e=.4,t="custom",o=.0304,r=!0,n="top bottom",a="center top",s="top bottom",l="center top";function i(e){if(!e)return;let t=new SplitType(e,{types:"lines, words"});return t.lines.forEach((e=>{let t=document.createElement("div");t.classList.add("txt-line-wrapper"),t.style.overflow="hidden",t.style.display="block",t.style.height=`${e.offsetHeight}px`,e.parentNode.insertBefore(t,e),t.appendChild(e)})),t}document.querySelectorAll(".section-dish-titles").forEach((c=>{let u=c.querySelector(".dish-wrapper-left .txt--dish"),d=c.querySelector(".dish-wrapper-right .txt--dish"),g=i(u),p=i(d);g&&gsap.fromTo(g.words,{opacity:0,y:"100%"},{opacity:1,y:"0%",duration:e,ease:t,stagger:o,scrollTrigger:{id:"left",trigger:c,start:n,end:a,scrub:r,markers:!1}}),p&&gsap.fromTo(p.words,{opacity:0,y:"100%"},{opacity:1,y:"0%",duration:e,ease:t,stagger:o,scrollTrigger:{trigger:c,start:s,end:l,scrub:r,markers:!1}})})),setTimeout((()=>{ScrollTrigger.refresh()}),50)})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger),void 0!==lenis&&lenis.on("scroll",ScrollTrigger.update),function(e,t,o=!1){let r=document.querySelector(e);if(!r)return void console.warn(`‚ö†Ô∏è √âl√©ment non trouv√© : ${e}`);let n=r.querySelector("p");if(!n)return void console.warn(`‚ö†Ô∏è Aucun texte trouv√© dans ${e}`);let a=n.innerHTML.trim();n.innerHTML=`<span class="marquee-content">${a}</span> <span class="marquee-content">${a}</span>`;let s=o?1:-1;gsap.set(r,{overflow:"hidden",whiteSpace:"nowrap"}),gsap.set(n,{display:"flex",alignItems:"center"}),gsap.to(r.querySelectorAll(".marquee-content"),{xPercent:-100*s,duration:t,ease:"none",repeat:-1})}(".marquee-middle",6),function(){const e=document.querySelector(".marquee-wrapper-ataaable"),t=e?.querySelector(".marquee-top"),o=e?.querySelector(".marquee-bottom");e&&t&&o?(gsap.fromTo(t.querySelectorAll("p"),{xPercent:100},{xPercent:25,ease:"slow",scrollTrigger:{trigger:e,start:"top 60%",end:"top 40%",scrub:1.2,toggleActions:"play none none reverse"}}),gsap.fromTo(o.querySelectorAll("p"),{xPercent:-100},{xPercent:-25,ease:"slow",scrollTrigger:{trigger:e,markers:!1,start:"center 60%",end:"top 40%",scrub:1.2,toggleActions:"play none none reverse"}})):console.warn("‚ö†Ô∏è Un des √©l√©ments de la marquee est manquant !")}(),setTimeout((()=>{ScrollTrigger.refresh()}),100)})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);document.querySelector(".footer-wrapper");const e=document.querySelector(".section-above-footer");document.querySelector(".footer");gsap.set(e,{yPercent:0}),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top bottom",pin:!0,pinSpacing:!0,pinReparent:!0,anticipatePin:1,scrub:!0,markers:!1})})),document.addEventListener("DOMContentLoaded",(async()=>{let e=document.querySelector(".footer");const t=document.querySelector(".section-above-footer"),o=document.querySelector(".footer-shadow");if(document.getElementById("confetti-canvas"))console.error("‚ùå Footer non trouv√© !");else{let r=document.createElement("canvas");r.id="confetti-canvas",r.style.position="absolute",r.style.bottom="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.pointerEvents="none",e.appendChild(r),r.confetti=await confetti.create(r,{resize:!0}),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.create({trigger:t,start:"bottom center",scrub:!0,once:!1,onEnter:()=>{lancerConfettis(r)}}),gsap.fromTo(t,{opacity:1,boxShadow:"0px 800px 800px 0px rgba(0,0,0,0.7)"},{opacity:1,boxShadow:"0px 0px 1000px 400px rgba(0,0,0,0)",duration:1.5,ease:"none",scrollTrigger:{trigger:t,start:"bottom bottom",end:"bottom center",scrub:1.2,markers:!1,onEnter:()=>gsap.set(o,{display:"block"}),onLeave:()=>gsap.set(o,{display:"none"}),onEnterBack:()=>gsap.set(o,{display:"block"})}})}}));
